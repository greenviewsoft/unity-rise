<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Referral & Rank System Guide</title>
    <style>
        body {
            font-family: 'Arial', sans-serif;
            line-height: 1.6;
            margin: 0;
            padding: 20px;
            color: #333;
            background: #f8f9fa;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 40px;
            border-radius: 10px;
            box-shadow: 0 0 20px rgba(0,0,0,0.1);
        }
        h1 {
            color: #2c3e50;
            text-align: center;
            border-bottom: 3px solid #3498db;
            padding-bottom: 10px;
            margin-bottom: 30px;
        }
        h2 {
            color: #34495e;
            border-left: 4px solid #3498db;
            padding-left: 15px;
            margin-top: 30px;
        }
        h3 {
            color: #2980b9;
            margin-top: 25px;
        }
        .highlight {
            background: #e8f4fd;
            padding: 15px;
            border-left: 4px solid #3498db;
            margin: 20px 0;
        }
        .warning {
            background: #fff3cd;
            padding: 15px;
            border-left: 4px solid #ffc107;
            margin: 20px 0;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        th {
            background: #3498db;
            color: white;
            font-weight: bold;
        }
        tr:nth-child(even) {
            background: #f8f9fa;
        }
        .rank-table th {
            background: #27ae60;
        }
        .commission-table th {
            background: #e74c3c;
        }
        .flow-diagram {
            background: #ecf0f1;
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: center;
        }
        .step {
            display: inline-block;
            background: #3498db;
            color: white;
            padding: 10px 15px;
            margin: 5px;
            border-radius: 5px;
            font-weight: bold;
        }
        .arrow {
            font-size: 20px;
            color: #3498db;
            margin: 0 10px;
        }
        ul {
            padding-left: 20px;
        }
        li {
            margin-bottom: 8px;
        }
        .footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid #ddd;
            color: #7f8c8d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üéØ Referral & Rank System Guide</h1>
        
        <div class="highlight">
            <strong>üìã Document Overview:</strong> This guide explains how the Multi-Level Marketing (MLM) referral commission system and rank progression work in our investment platform.
        </div>

        <h2>üîó 1. Referral System Overview</h2>
        
        <h3>How Referrals Work</h3>
        <p>Our platform uses a multi-level referral system where users can earn commissions from their downline investments up to <strong>40 levels deep</strong>. When someone you refer (or someone in your downline) makes an investment, you earn a percentage commission based on your current rank.</p>

        <div class="flow-diagram">
            <div class="step">User A Refers User B</div>
            <span class="arrow">‚Üí</span>
            <div class="step">User B Makes Investment</div>
            <span class="arrow">‚Üí</span>
            <div class="step">Commission Calculated</div>
            <span class="arrow">‚Üí</span>
            <div class="step">User A Receives Commission</div>
        </div>

        <h3>Key Features</h3>
        <ul>
            <li><strong>Multi-Level Structure:</strong> Earn from up to 40 levels of referrals</li>
            <li><strong>Rank-Based Rates:</strong> Higher ranks get better commission rates and more levels</li>
            <li><strong>Real-Time Processing:</strong> Commissions are calculated and distributed instantly</li>
            <li><strong>Transparent Tracking:</strong> Complete history of all commissions earned</li>
        </ul>

        <h2>üèÜ 2. Rank System</h2>

       
        <h3>Rank Requirements & Rewards</h3>
        <p>To achieve higher ranks, users must meet specific criteria:</p>
        
        <table class="rank-table">
            <thead>
                <tr>
                    <th>Rank</th>
                    <th>Rank Name</th>
                    <th>Team Business Volume</th>
                    <th>Count Level</th>
                    <th>Personal Investment</th>
                    <th>Reward Amount</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>1</td>
                    <td>Rookie</td>
                    <td>$1,000</td>
                    <td>6 Levels</td>
                    <td>$100</td>
                    <td>$50</td>
                </tr>
                <tr>
                    <td>2</td>
                    <td>Bronze</td>
                    <td>$2,500</td>
                    <td>9 Levels</td>
                    <td>$500</td>
                    <td>$100</td>
                </tr>
                <tr>
                    <td>3</td>
                    <td>Silver</td>
                    <td>$5,000</td>
                    <td>12 Levels</td>
                    <td>$1,000</td>
                    <td>$200</td>
                </tr>
                <tr>
                    <td>4</td>
                    <td>Gold</td>
                    <td>$10,000</td>
                    <td>15 Levels</td>
                    <td>$2,000</td>
                    <td>$350</td>
                </tr>
                <tr>
                    <td>5</td>
                    <td>Diamond</td>
                    <td>$20,000</td>
                    <td>18 Levels</td>
                    <td>$3,000</td>
                    <td>$500</td>
                </tr>
                <tr>
                    <td>6</td>
                    <td>Master</td>
                    <td>$35,000</td>
                    <td>22 Levels</td>
                    <td>$5,000</td>
                    <td>$750</td>
                </tr>
                <tr>
                    <td>7</td>
                    <td>Grand Master</td>
                    <td>$50,000</td>
                    <td>26 Levels</td>
                    <td>$7,500</td>
                    <td>$1,000</td>
                </tr>
                <tr>
                    <td>8</td>
                    <td>Champion</td>
                    <td>$75,000</td>
                    <td>30 Levels</td>
                    <td>$10,000</td>
                    <td>$1,500</td>
                </tr>
                <tr>
                    <td>9</td>
                    <td>Legend</td>
                    <td>$100,000</td>
                    <td>33 Levels</td>
                    <td>$15,000</td>
                    <td>$2,000</td>
                </tr>
                <tr>
                    <td>10</td>
                    <td>Mythic</td>
                    <td>$150,000</td>
                    <td>36 Levels</td>
                    <td>$20,000</td>
                    <td>$3,000</td>
                </tr>
                <tr>
                    <td>11</td>
                    <td>Immortal</td>
                    <td>$200,000</td>
                    <td>38 Levels</td>
                    <td>$30,000</td>
                    <td>$4,000</td>
                </tr>
                <tr>
                    <td>12</td>
                    <td>Divine</td>
                    <td>$300,000</td>
                    <td>40 Levels</td>
                    <td>$50,000</td>
                    <td>$5,000</td>
                </tr>
            </tbody>
        </table>

        <h4>Requirements Explanation:</h4>
        <ul>
            <li><strong>Team Business Volume:</strong> Total investment amount from your entire downline network</li>
            <li><strong>Count Level:</strong> Minimum depth of your referral network (how many levels deep)</li>
            <li><strong>Personal Investment:</strong> Your own minimum investment amount</li>
            <li><strong>Reward Amount:</strong> Instant bonus received upon achieving the rank</li>
        </ul>

        <div class="warning">
            <strong>‚ö†Ô∏è ‡¶ó‡ßÅ‡¶∞‡ßÅ‡¶§‡ßç‡¶¨‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶®‡ßã‡¶ü:</strong> Rank upgrade ‡¶π‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø <strong>‡¶∏‡¶¨ requirements ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶™‡ßÇ‡¶∞‡¶£</strong> ‡¶ï‡¶∞‡¶§‡ßá ‡¶π‡¶¨‡ßá:
            <br><br>
            <strong>‡¶â‡¶¶‡¶æ‡¶π‡¶∞‡¶£ - Bronze Rank ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø:</strong>
            <ul style="margin-top: 10px;">
                <li>‚úÖ Team Business Volume: $2,500 (‡¶™‡ßÇ‡¶∞‡ßç‡¶£ ‡¶ü‡¶ø‡¶Æ‡ßá‡¶∞ ‡¶Æ‡ßã‡¶ü ‡¶á‡¶®‡¶≠‡ßá‡¶∏‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü)</li>
                <li>‚úÖ Count Level: 9 Levels (‡¶∞‡ßá‡¶´‡¶æ‡¶∞‡ßá‡¶≤ ‡¶®‡ßá‡¶ü‡¶ì‡¶Ø‡¶º‡¶æ‡¶∞‡ßç‡¶ï ‡¶ï‡¶Æ‡¶™‡¶ï‡ßç‡¶∑‡ßá ‡ßØ ‡¶≤‡ßá‡¶≠‡ßá‡¶≤ ‡¶ó‡¶≠‡ßÄ‡¶∞)</li>
                <li>‚úÖ Personal Investment: $500 (‡¶®‡¶ø‡¶ú‡ßá‡¶∞ ‡¶®‡ßç‡¶Ø‡ßÇ‡¶®‡¶§‡¶Æ ‡¶á‡¶®‡¶≠‡ßá‡¶∏‡ßç‡¶ü‡¶Æ‡ßá‡¶®‡ßç‡¶ü)</li>
            </ul>
            <br>
            <strong>üî• ‡¶∂‡ßÅ‡¶ß‡ßÅ‡¶Æ‡¶æ‡¶§‡ßç‡¶∞ Team Business Volume ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶π‡¶≤‡ßá‡¶á rank upgrade ‡¶π‡¶¨‡ßá ‡¶®‡¶æ!</strong> ‡¶∏‡¶¨ ‡¶∂‡¶∞‡ßç‡¶§ ‡¶è‡¶ï‡¶∏‡¶æ‡¶•‡ßá ‡¶Æ‡¶ø‡¶≤‡¶§‡ßá ‡¶π‡¶¨‡ßá‡•§
        </div>

        <h4>üéØ Rank Upgrade Process:</h4>
        <div class="flow-diagram">
            <div class="step">1. Check Team Business Volume</div>
            <span class="arrow">‚Üí</span>
            <div class="step">2. Check Count Level</div>
            <span class="arrow">‚Üí</span>
            <div class="step">3. Check Personal Investment</div>
            <span class="arrow">‚Üí</span>
            <div class="step">4. All Met? Upgrade!</div>
        </div>

        <div class="warning">
            <strong>‚ö†Ô∏è Important:</strong> Rank progression is automatic when requirements are met. The system checks and updates ranks when user balances change.
        </div>

        <h3>üéÅ Upline Rewards System</h3>
        <div class="highlight">
            <strong>‚ú® Key Benefit:</strong> When a user achieves a new rank, their entire upline network benefits through increased commission opportunities!
        </div>

        <h4>How Upline Benefits Work:</h4>
        <ol>
            <li><strong>User Rank Upgrade:</strong> When someone in your downline achieves a higher rank</li>
            <li><strong>Increased Commission Levels:</strong> Higher ranked users can earn from more levels (up to 40 levels)</li>
            <li><strong>Better Commission Rates:</strong> Higher ranks typically have better commission percentages</li>
            <li><strong>Network Growth:</strong> Stronger downline = more earning potential for upline</li>
        </ol>

        <h4>Example Scenario:</h4>
        <div class="flow-diagram">
            <div class="step">User A (Gold Rank)</div>
            <span class="arrow">‚Üí</span>
            <div class="step">User B Upgrades to Diamond</div>
            <span class="arrow">‚Üí</span>
            <div class="step">User A Benefits from B's Growth</div>
            <span class="arrow">‚Üí</span>
            <div class="step">More Commission Opportunities</div>
        </div>

        <p><strong>Result:</strong> User A now has a Diamond-ranked direct referral, which means:</p>
         <ul>
             <li>User B can now earn from 18 levels instead of previous rank's levels</li>
             <li>User B's increased activity benefits User A through commission structure</li>
             <li>User A's team business volume increases, helping A's own rank progression</li>
         </ul>

         <h4>üî• Practical Example - Upline Benefit:</h4>
         <div class="highlight">
             <strong>Scenario:</strong> ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ ‡¶ü‡¶ø‡¶Æ‡ßá ‡ß© ‡¶ú‡¶® member ‡¶Ü‡¶õ‡ßá ‡¶Ø‡¶æ‡¶∞‡¶æ rank upgrade ‡¶ï‡¶∞‡¶≤:
             <br><br>
             <strong>Before:</strong>
             <ul style="margin-top: 10px;">
                 <li>Member A: Rookie (Team Business: $800)</li>
                 <li>Member B: Rookie (Team Business: $600)</li>
                 <li>Member C: Rookie (Team Business: $400)</li>
                 <li><strong>Your Total Team Business: $1,800</strong></li>
             </ul>
             <br>
             <strong>After - ‡¶§‡¶æ‡¶∞‡¶æ invest ‡¶ï‡¶∞‡ßá rank upgrade ‡¶ï‡¶∞‡¶≤:</strong>
             <ul style="margin-top: 10px;">
                 <li>Member A: Bronze (Team Business: $2,500)</li>
                 <li>Member B: Bronze (Team Business: $2,500)</li>
                 <li>Member C: Silver (Team Business: $5,000)</li>
                 <li><strong>Your New Total Team Business: $10,000</strong></li>
             </ul>
             <br>
             <strong>üéâ Result:</strong> ‡¶Ü‡¶™‡¶®‡¶æ‡¶∞ team business volume $1,800 ‡¶•‡ßá‡¶ï‡ßá $10,000 ‡¶π‡¶Ø‡¶º‡ßá ‡¶ó‡ßá‡¶≤! 
             <br>‡¶è‡¶ñ‡¶® ‡¶Ü‡¶™‡¶®‡¶ø <strong>Gold Rank</strong> ‡¶è‡¶∞ ‡¶ú‡¶®‡ßç‡¶Ø eligible (‡¶Ø‡¶¶‡¶ø ‡¶Ö‡¶®‡ßç‡¶Ø requirements ‡¶ì ‡¶™‡ßÇ‡¶∞‡¶£ ‡¶π‡¶Ø‡¶º)‡•§
         </div>

        <h2>üí∞ 3. Commission Structure</h2>

        <h3>How Commissions Are Calculated</h3>
        <p>When a user in your downline makes an investment, commissions are distributed as follows:</p>

        <ol>
            <li><strong>Investment Made:</strong> User makes an investment</li>
            <li><strong>Chain Processing:</strong> System traces the referral chain upward</li>
            <li><strong>Rate Calculation:</strong> For each level, commission rate is determined by the referrer's rank</li>
            <li><strong>Commission Distribution:</strong> Commission amount = (Investment Amount √ó Commission Rate) √∑ 100</li>
            <li><strong>Balance Update:</strong> Both main balance and refer_commission balance are updated</li>
        </ol>

        <h3>Commission Distribution Example</h3>
        <div class="highlight">
            <strong>Scenario:</strong> User B (Rank 3 - Silver) makes a $1000 investment. User A (Rank 5 - Diamond) referred User B.
            <br><br>
            <strong>Calculation:</strong>
            <br>‚Ä¢ User A's rank allows Level 1 commission at (example) 5%
            <br>‚Ä¢ Commission = $1000 √ó 5% = $50
            <br>‚Ä¢ User A receives $50 in both main balance and refer_commission
        </div>

        <h2>üîÑ 4. System Workflow</h2>

        <h3>Investment to Commission Flow</h3>
        <div class="flow-diagram">
            <div class="step">1. Investment Created</div>
            <span class="arrow">‚Üí</span>
            <div class="step">2. ReferralCommissionService Called</div>
            <span class="arrow">‚Üí</span>
            <div class="step">3. Referral Chain Processed</div>
            <span class="arrow">‚Üí</span>
            <div class="step">4. Commissions Distributed</div>
            <span class="arrow">‚Üí</span>
            <div class="step">5. Transaction Logs Created</div>
        </div>

        <h3>Rank Progression Flow</h3>
        <div class="flow-diagram">
            <div class="step">1. Balance Updated</div>
            <span class="arrow">‚Üí</span>
            <div class="step">2. Rank Check Triggered</div>
            <span class="arrow">‚Üí</span>
            <div class="step">3. Requirements Evaluated</div>
            <span class="arrow">‚Üí</span>
            <div class="step">4. Rank Updated</div>
            <span class="arrow">‚Üí</span>
            <div class="step">5. Rank Reward Processed</div>
        </div>

        <h2>üìä 5. Database Structure</h2>

        <h3>Key Tables</h3>
        <table>
            <thead>
                <tr>
                    <th>Table</th>
                    <th>Purpose</th>
                    <th>Key Fields</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>users</td>
                    <td>User information and rank</td>
                    <td>rank, refer_id, refer_commission, balance</td>
                </tr>
                <tr>
                    <td>referral_commissions</td>
                    <td>Commission records</td>
                    <td>referrer_id, referred_id, level, commission_amount</td>
                </tr>
                <tr>
                    <td>referral_commission_levels</td>
                    <td>Commission rates by rank/level</td>
                    <td>rank_id, level, commission_rate</td>
                </tr>
                <tr>
                    <td>rank_requirements</td>
                    <td>Requirements for each rank</td>
                    <td>rank, team_business_volume, personal_investment</td>
                </tr>
                <tr>
                    <td>rank_rewards</td>
                    <td>Rewards for achieving ranks</td>
                    <td>user_id, new_rank, reward_amount</td>
                </tr>
                <tr>
                    <td>investments</td>
                    <td>Investment records</td>
                    <td>user_id, amount, plan_id</td>
                </tr>
            </tbody>
        </table>

        <h2>üõ†Ô∏è 6. Technical Implementation</h2>

        <h3>Core Services</h3>
        <ul>
            <li><strong>ReferralCommissionService:</strong> Handles commission calculation and distribution</li>
            <li><strong>User Model Boot Method:</strong> Automatically checks and updates ranks</li>
            <li><strong>Transaction Logging:</strong> Records all financial transactions</li>
        </ul>

        <h3>Key Features</h3>
        <ul>
            <li><strong>Database Transactions:</strong> Ensures data consistency</li>
            <li><strong>Error Handling:</strong> Comprehensive logging and rollback mechanisms</li>
            <li><strong>Performance Optimization:</strong> Efficient queries and caching</li>
            <li><strong>Security:</strong> Protected against manipulation and fraud</li>
        </ul>

        <h2>üìà 7. Benefits & Rewards</h2>

        <h3>For Users</h3>
        <ul>
            <li>Passive income through referral commissions</li>
            <li>Rank progression rewards</li>
            <li>Increased earning potential with higher ranks</li>
            <li>Transparent tracking and reporting</li>
        </ul>

        <h3>For Platform</h3>
        <ul>
            <li>Viral growth through referral incentives</li>
            <li>User retention through rank progression</li>
            <li>Increased investment volume</li>
            <li>Community building and engagement</li>
        </ul>

        <div class="warning">
            <strong>üîí Security Note:</strong> All commission calculations are server-side and cannot be manipulated by users. The system includes comprehensive logging and audit trails.
        </div>

        <h2>üìû 8. Support & Maintenance</h2>

        <h3>Admin Controls</h3>
        <ul>
            <li>Commission rate management</li>
            <li>Rank requirement adjustments</li>
            <li>User rank manual updates</li>
            <li>Commission history monitoring</li>
        </ul>

        <h3>Monitoring</h3>
        <ul>
            <li>Real-time commission tracking</li>
            <li>Rank progression analytics</li>
            <li>Performance metrics</li>
            <li>Error logging and alerts</li>
        </ul>

        <div class="footer">
            <p><strong>üìÖ Document Version:</strong> 1.0 | <strong>üìÖ Last Updated:</strong> January 2025</p>
            <p><strong>üè¢ Platform:</strong> MLM Investment Platform | <strong>‚ö° Framework:</strong> Laravel</p>
        </div>
    </div>
</body>
</html>